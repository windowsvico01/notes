{"version":3,"sources":["containers/Pages/Manage/Category/List/sagas.js","containers/Pages/Manage/Category/List/actions.js"],"names":["handleAddCategory","handleLoadCategory","handleUpdateCategory","watcher","action","params","formData","options","_Users_yangpu_bt_notes_moonlt_backstage_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","FormData","Object","keys","forEach","key","undefined","append","method","body","call","fetchData","url","sent","put","loadCategory","modalVisibleToggle","stop","_marked","result","_context2","loadCategorySuccess","_marked2","_context3","_marked3","_context4","takeLatest","ADD_CATEGORY","LOAD_CATEGORY","UPDATE_CATEGORY","_marked4","__webpack_exports__","__webpack_require__","r","d","ADD_CATEGORY_SUCCESS","LOAD_CATEGORY_SUCCESS","ADD","FIELDS_CHANGE","MODAL_VISIBLE_TOGGLE","add","addCategory","addCategorySuccess","fieldsChange","updateCategory","type","data","fields","editCid","bool"],"mappings":"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","file":"static/js/41.3337d74d.chunk.js","sourcesContent":["import { fork, call, put, takeLatest, takeEvery } from 'redux-saga/effects';\nimport fetchData from '@/containers/App/sagas/fetchData';\nimport { ADD_CATEGORY, modalVisibleToggle, LOAD_CATEGORY, loadCategorySuccess, loadCategory, UPDATE_CATEGORY, fieldsChange } from './actions';\nexport function* handleAddCategory(action) {\n  const { params } = action;\n  const formData = new FormData();\n  Object.keys(params).forEach((key) => {\n    if (params[key] === undefined) return;\n    formData.append(key, params[key]);\n  })\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/content/addCategory', options });\n  if (result) {\n    yield put(loadCategory());\n    yield put(modalVisibleToggle(false));\n  }\n}\nexport function* handleLoadCategory() {\n  const formData = new FormData();\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/content/getCategory', options });\n  if (result) {\n    yield put(loadCategorySuccess(result));\n  }\n}\nexport function* handleUpdateCategory(action) {\n  const { params } = action;\n  const formData = new FormData();\n  Object.keys(params).forEach((key) => {\n    if (params[key] === '') return;\n    formData.append(key, params[key]);\n  })\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/content/updateCategory', options });\n  if (result) {\n    yield put(modalVisibleToggle(false)); // 清空)\n    yield put(loadCategory());\n  }\n}\nexport function* watcher() {\n  yield takeLatest(ADD_CATEGORY, handleAddCategory)\n  yield takeLatest(LOAD_CATEGORY, handleLoadCategory)\n  yield takeLatest(UPDATE_CATEGORY, handleUpdateCategory)\n}\n\nexport default [\n  watcher,\n];\n","export const ADD_CATEGORY = '/Manage/Category/List/ADD_CATEGORY';\nexport const ADD_CATEGORY_SUCCESS = '/Manage/Category/List/ADD_CATEGORY_SUCCESS';\n\nexport const LOAD_CATEGORY = '/Manage/Category/List/LOAD_CATEGORY';\nexport const LOAD_CATEGORY_SUCCESS = '/Manage/Category/List/LOAD_CATEGORY_SUCCESS';\n\nexport const ADD = '/Manage/Category/List/ADD';\n\nexport const FIELDS_CHANGE = '/Manage/Category/List/FIELDS_CHANGE';\n\nexport const MODAL_VISIBLE_TOGGLE = '/Manage/Category/List/MODAL_VISIBLE_TOGGLE';\n\nexport const UPDATE_CATEGORY = '/Manage/Category/List/UPDATE_CATEGORY';\n\nexport function add(params) {\n  return {\n    type: ADD,\n    params,\n  };\n}\n\nexport function addCategory(params) {\n  return {\n    type: ADD_CATEGORY,\n    params,\n  };\n}\n\nexport function addCategorySuccess(data) {\n  return {\n    type: ADD_CATEGORY_SUCCESS,\n    data,\n  };\n}\n\nexport function loadCategory(params) {\n  return {\n    type: LOAD_CATEGORY,\n  };\n}\n\nexport function loadCategorySuccess(data) {\n  return {\n    type: LOAD_CATEGORY_SUCCESS,\n    data,\n  };\n}\n\nexport function fieldsChange(fields, editCid) {\n  return {\n    type: FIELDS_CHANGE,\n    fields,\n    editCid,\n  }\n}\n\nexport function modalVisibleToggle(bool, editCid) {\n  return {\n    type: MODAL_VISIBLE_TOGGLE,\n    bool,\n    editCid,\n  }\n}\n\nexport function updateCategory(params) {\n  return {\n    type: UPDATE_CATEGORY,\n    params,\n  }\n}\n\n"],"sourceRoot":""}