{"version":3,"sources":["containers/Pages/Manage/Forum/Add/sagas.js","containers/Pages/Manage/Forum/Add/actions.js"],"names":["handleLoadCategory","handleLoadPlate","handleAddForum","watcher","history","createBrowserHistory","action","formData","options","result","_Users_yangpu_bt_notes_moonlt_backstage_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","FormData","method","body","call","fetchData","url","sent","put","loadCategorySuccess","stop","_marked","cid","_context2","params","append","loadPlateSuccess","_marked2","_action$params","name","summary","cover","_context3","abrupt","goBack","_marked3","_context4","takeLatest","LOAD_CATEGORY","LOAD_PLATE","ADD_FORUM","_marked4","__webpack_exports__","__webpack_require__","r","d","LOAD_CATEGORY_SUCCESS","LOAD_PLATE_SUCCESS","FIELDS_CHANGE","CHANGE_MODAL","loadCategory","loadPlate","addForum","fieldsChange","changeModal","type","data","fields","bool"],"mappings":"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","file":"static/js/50.16c4d9a1.chunk.js","sourcesContent":["import { fork, call, put, takeLatest, takeEvery } from 'redux-saga/effects';\nimport fetchData from '@/containers/App/sagas/fetchData';\nimport { LOAD_CATEGORY, loadCategorySuccess, LOAD_PLATE, loadPlate, loadPlateSuccess, ADD_FORUM, changeModal } from './actions';\nimport { createBrowserHistory } from 'history';\nconst history = createBrowserHistory();\nexport function* handleLoadCategory(action) {\n  const formData = new FormData();\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/content/getCategory', options });\n  if (result) {\n    yield put(loadCategorySuccess(result));\n  }\n}\nexport function* handleLoadPlate(action) {\n  const { cid } = action.params;\n  const formData = new FormData();\n  cid && formData.append('cid', cid);\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/content/getPlate', options });\n  if (result) {\n    yield put(loadPlateSuccess(result));\n  }\n}\nexport function* handleAddForum(action) {\n  const { cid, name, summary, cover } = action.params;\n  if (!cid || !name || !cover) return;\n  const formData = new FormData();\n  formData.append('cid', cid);\n  formData.append('name', name);\n  formData.append('cover', cover);\n  summary && formData.append('summary', summary);\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/content/addForum', options });\n  if (result) {\n    history.goBack();\n  }\n}\nexport function* watcher() {\n  yield takeLatest(LOAD_CATEGORY, handleLoadCategory)\n  yield takeLatest(LOAD_PLATE, handleLoadPlate)\n  yield takeLatest(ADD_FORUM, handleAddForum)\n}\n\nexport default [\n  watcher,\n];\n","export const LOAD_CATEGORY = '/Manage/Forum/Add/LOAD_CATEGORY';\nexport const LOAD_CATEGORY_SUCCESS = '/Manage/Forum/Add/LOAD_CATEGORY_SUCCESS';\n\nexport const LOAD_PLATE = '/Manage/Forum/Add/LOAD_PLATE';\nexport const LOAD_PLATE_SUCCESS = '/Manage/Forum/Add/LOAD_PLATE_SUCCESS';\n\nexport const ADD_FORUM = '/Manage/Forum/Add/ADD_FORUM';\n\nexport const FIELDS_CHANGE = '/Manage/Forum/Add/FIELDS_CHANGE';\n\nexport const CHANGE_MODAL = '/Manage/Forum/Add/CHANGE_MODAL';\n\nexport function loadCategory(params) {\n  return {\n    type: LOAD_CATEGORY,\n    params,\n  };\n}\n\nexport function loadCategorySuccess(data) {\n  return {\n    type: LOAD_CATEGORY_SUCCESS,\n    data,\n  };\n}\n\nexport function loadPlate(params) {\n  return {\n    type: LOAD_PLATE,\n    params,\n  };\n}\n\nexport function loadPlateSuccess(data) {\n  return {\n    type: LOAD_PLATE_SUCCESS,\n    data,\n  };\n}\n\nexport function addForum(params) {\n  return {\n    type: ADD_FORUM,\n    params,\n  }\n}\n\nexport function fieldsChange(fields) {\n  return {\n    type: FIELDS_CHANGE,\n    fields,\n  }\n}\n\nexport function changeModal(bool) {\n  return {\n    type: CHANGE_MODAL,\n    bool,\n  }\n}\n\n\n"],"sourceRoot":""}