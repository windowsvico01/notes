{"version":3,"sources":["containers/Pages/Manage/Category/Detail/sagas.js","containers/Pages/Manage/Category/Detail/actions.js"],"names":["handleLoadCategory","handleLoadForum","handleAddForum","watcher","action","cid","formData","options","result","_Users_yangpu_bt_notes_moonlt_backstage_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","params","abrupt","FormData","append","method","body","call","fetchData","url","sent","console","log","put","loadCategorySuccess","stop","_marked","_context2","loadForumSuccess","_marked2","_action$params","name","_context3","loadForum","changeModal","_marked3","_context4","takeLatest","LOAD_CATEGORY","LOAD_FORUM","ADD_FORUM","_marked4","__webpack_exports__","__webpack_require__","r","d","LOAD_CATEGORY_SUCCESS","LOAD_FORUM_SUCCESS","FIELDS_CHANGE","CHANGE_MODAL","loadCategory","addForum","fieldsChange","type","data","fields","bool"],"mappings":"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","file":"static/js/48.55423eac.chunk.js","sourcesContent":["import { fork, call, put, takeLatest, takeEvery } from 'redux-saga/effects';\nimport fetchData from '@/containers/App/sagas/fetchData';\nimport { LOAD_CATEGORY, loadCategorySuccess, LOAD_FORUM, loadForum, loadForumSuccess, ADD_FORUM, changeModal } from './actions';\nexport function* handleLoadCategory(action) {\n  const { cid } = action.params;\n  if (!cid) return;\n  const formData = new FormData();\n  formData.append('cid', cid);\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/content/getCategoryInfo', options });\n  console.log(result);\n  if (result) {\n    yield put(loadCategorySuccess(result));\n  }\n}\nexport function* handleLoadForum(action) {\n  const { cid } = action.params;\n  if (!cid) return;\n  const formData = new FormData();\n  formData.append('cid', cid);\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/content/getForum', options });\n  if (result) {\n    yield put(loadForumSuccess(result));\n  }\n}\nexport function* handleAddForum(action) {\n  const { cid, name } = action.params;\n  if (!cid || !name) return;\n  const formData = new FormData();\n  formData.append('cid', cid);\n  formData.append('name', name);\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/content/addForum', options });\n  if (result) {\n    yield put(loadForum({ cid }));\n    yield put(changeModal(false));\n  }\n}\nexport function* watcher() {\n  yield takeLatest(LOAD_CATEGORY, handleLoadCategory)\n  yield takeLatest(LOAD_FORUM, handleLoadForum)\n  yield takeLatest(ADD_FORUM, handleAddForum)\n}\n\nexport default [\n  watcher,\n];\n","export const LOAD_CATEGORY = '/Manage/Category/Detail/LOAD_CATEGORY';\nexport const LOAD_CATEGORY_SUCCESS = '/Manage/Category/Detail/LOAD_CATEGORY_SUCCESS';\n\nexport const LOAD_FORUM = '/Manage/Category/Detail/LOAD_FORUM';\nexport const LOAD_FORUM_SUCCESS = '/Manage/Category/Detail/LOAD_FORUM_SUCCESS';\n\nexport const ADD_FORUM = '/Manage/Category/Detail/ADD_FORUM';\n\nexport const FIELDS_CHANGE = '/Manage/Category/Detail/FIELDS_CHANGE';\n\nexport const CHANGE_MODAL = '/Manage/Category/Detail/CHANGE_MODAL';\n\nexport function loadCategory(params) {\n  return {\n    type: LOAD_CATEGORY,\n    params,\n  };\n}\n\nexport function loadCategorySuccess(data) {\n  return {\n    type: LOAD_CATEGORY_SUCCESS,\n    data,\n  };\n}\n\nexport function loadForum(params) {\n  return {\n    type: LOAD_FORUM,\n    params,\n  };\n}\n\nexport function loadForumSuccess(data) {\n  return {\n    type: LOAD_FORUM_SUCCESS,\n    data,\n  };\n}\n\nexport function addForum(params) {\n  return {\n    type: ADD_FORUM,\n    params,\n  }\n}\n\nexport function fieldsChange(fields) {\n  return {\n    type: FIELDS_CHANGE,\n    fields,\n  }\n}\n\nexport function changeModal(bool) {\n  return {\n    type: CHANGE_MODAL,\n    bool,\n  }\n}\n\n\n"],"sourceRoot":""}