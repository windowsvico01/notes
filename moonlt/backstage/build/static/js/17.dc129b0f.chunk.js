(window.webpackJsonp=window.webpackJsonp||[]).push([[17,85,86],{233:function(t,e,n){"use strict";n.r(e),n.d(e,"LOAD_FORUMLIST",function(){return r}),n.d(e,"LOAD_FORUMLIST_SUCCESS",function(){return o}),n.d(e,"ADD",function(){return a}),n.d(e,"FIELDS_CHANGE",function(){return i}),n.d(e,"MODAL_VISIBLE_TOGGLE",function(){return u}),n.d(e,"UPDATE_CATEGORY",function(){return c}),n.d(e,"add",function(){return f}),n.d(e,"loadForumList",function(){return l}),n.d(e,"loadForumListSuccess",function(){return s}),n.d(e,"fieldsChange",function(){return d}),n.d(e,"modalVisibleToggle",function(){return p}),n.d(e,"updateCategory",function(){return m});var r="/Manage/Forum/List/LOAD_FORUMLIST",o="/Manage/Forum/List/LOAD_FORUMLIST_SUCCESS",a="/Manage/Category/List/ADD",i="/Manage/Category/List/FIELDS_CHANGE",u="/Manage/Category/List/MODAL_VISIBLE_TOGGLE",c="/Manage/Category/List/UPDATE_CATEGORY";function f(t){return{type:a,params:t}}function l(t){return{type:r,params:t}}function s(t){return{type:o,data:t}}function d(t,e){return{type:i,fields:t,editCid:e}}function p(t,e){return{type:u,bool:t,editCid:e}}function m(t){return{type:c,params:t}}},262:function(t,e,n){"use strict";n.r(e),n.d(e,"selectForumList",function(){return a}),n.d(e,"selectPage",function(){return i}),n.d(e,"selectTotal",function(){return u});var r=n(44),o=function(t){return t.get("Manage/Forum/List")},a=Object(r.a)(o,function(t){return t&&t.forumList}),i=Object(r.a)(o,function(t){return t&&t.page}),u=Object(r.a)(o,function(t){return t&&t.total})},386:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},387:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",function(){return o})},388:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return r})},389:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(391);function a(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?Object(o.a)(t):e}n.d(e,"a",function(){return a})},390:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",function(){return o})},391:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",function(){return r})},399:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r=function(t){var e=0,n=/[\u4e00-\u9fa5]/;if(t)for(var r=0,o=t.length;r<o;r+=1)if(n.test(t[r]))e+=1;else{var a=+t.charCodeAt(r);e+=a<256?.5:65377<=a&&a<=65439?.5:65512<=a&&a<=65518?.5:1}return e},o=function(t){return!(!/^\d+(\.\d+)?$/.test(t)&&!/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/.test(t))}},99:function(t,e,n){"use strict";n.r(e);var r=n(82),o=n(386),a=n(387),i=n(389),u=n(388),c=n(390),f=n(0),l=n.n(f),s=n(37),d=n(25),p=n(38),m=n(63),y=n(681),b=n(132),g=n(233),h=n(262),O=(n(399),n(396)),C=n.n(O);function E(t){return function(){var e,n=Object(u.a)(t);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()){var r=Object(u.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(i.a)(this,e)}}var v=function(t){Object(c.a)(n,t);var e=E(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this,t)).handleUpdateCategory=function(){var t=r.props.editCid;t?r.state.formRef.current.validateFields().then(function(e){var n={cid:t};Object.keys(e).forEach(function(t){n[t]=e[t]}),r.props.updateCategory(n)}):r.state.formRef.current.validateFields().then(function(t){var e={};Object.keys(t).forEach(function(n){e[n]=t[n]}),r.props.addCategory(e)})},r.toggleModalVisible=function(t){t||(r.state.formRef.current.resetFields(),r.props.fieldsChange([])),r.props.modalVisibleToggle(t)},r.handleFilesChange=function(t){r.state.timer&&clearTimeout(r.state.timer);var e=setTimeout(function(){r.props.fieldsChange(t),r.setState({timer:""})},200);r.setState({timer:e})},r.handleEditCategory=function(t){var e=[];Object.keys(t).forEach(function(n){"cid"!==n&&e.push({name:[n],value:t[n]})}),r.props.fieldsChange(e,t.cid),r.toggleModalVisible(!0)},r.handleAddChildCategory=function(t){var e=[{name:["pid"],value:t}];r.props.fieldsChange(e),r.toggleModalVisible(!0)},r.state={formRef:l.a.createRef(),timer:"",editId:""},r}return Object(a.a)(n,[{key:"componentWillMount",value:function(){this.props.loadForumList({})}},{key:"render",value:function(){var t=this,e=this.props.forumList;console.log(e);var n=this.state.formRef,r=(n&&n.current&&n.current.getFieldValue("label"),[{title:"\u677f\u5757fid",dataIndex:"fid",key:"fid"},{title:"\u677f\u5757\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u6240\u5c5e\u7c7b\u76ee",dataIndex:"category_name",key:"category_name"},{title:"\u5173\u6ce8\u4eba\u6570",dataIndex:"members",key:"members"},{title:"\u6587\u7ae0\u603b\u6570",dataIndex:"news_count",key:"news_count"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",key:"create_time",render:function(t){return l.a.createElement("span",null,t?C()(t).format("YYYY-MM-DD HH:mm:ss"):"--")}},{title:"\u64cd\u4f5c",key:"operate",render:function(e,n){return l.a.createElement(b.b,null,l.a.createElement(m.a,{type:"link",onClick:function(){return t.handleEditCategory(n)}},"\u7f16\u8f91"),l.a.createElement(p.b,{to:"/manage/category/detail/".concat(n.cid),style:{padding:"4px 15px"}},"\u8be6\u60c5"),1*n.pid===0&&l.a.createElement(m.a,{type:"link",onClick:function(){return t.handleAddChildCategory(n.cid)}},"\u6dfb\u52a0\u5b50\u7c7b\u76ee"))}}]);return l.a.createElement("div",null,l.a.createElement(b.f,null,l.a.createElement("div",{className:"borderLeft"}),l.a.createElement("h2",null,"\u677f\u5757\u7ba1\u7406"),l.a.createElement(p.b,{to:{pathname:"/manage/forum/add",state:{fid:"123"}}},l.a.createElement(m.a,{type:"primary",className:"btn-r"},"\u6dfb\u52a0\u677f\u5757"))),l.a.createElement(b.g,null,l.a.createElement(y.a,{columns:r,size:"middle",dataSource:e,pagination:!1,rowKey:"cid"})))}}]),n}(f.Component);e.default=Object(s.connect)(function(t){return{forumList:Object(h.selectForumList)(t),page:Object(h.selectPage)(t),total:Object(h.selectTotal)(t)}},function(t){return Object(d.bindActionCreators)(Object(r.a)({},g),t)})(v)}}]);
//# sourceMappingURL=17.dc129b0f.chunk.js.map