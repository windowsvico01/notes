{"version":3,"sources":["containers/Pages/Menu/Overview/sagas.js","containers/Pages/Menu/Overview/actions.js"],"names":["handleAddMenu","handleLoadMenu","handleUpdateMenu","watcher","action","params","formData","options","_Users_yangpu_bt_notes_moonlt_backstage_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","FormData","Object","keys","forEach","key","append","method","body","call","fetchData","url","sent","put","loadMenu","menu_ids","modalVisibleToggle","stop","_marked","result","_context2","loadMenuSuccess","_marked2","_context3","loadUserInfo","_marked3","_context4","takeLatest","ADD_MENU","LOAD_MENU","UPDATE_MENU","_marked4","__webpack_exports__","__webpack_require__","r","d","ADD_MENU_SUCCESS","LOAD_MENU_SUCCESS","ADD","FIELDS_CHANGE","MODAL_VISIBLE_TOGGLE","add","addMenu","addMenuSuccess","fieldsChange","updateMenu","type","data","fields","editId","bool"],"mappings":"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","file":"static/js/25.9abbe558.chunk.js","sourcesContent":["import { fork, call, put, takeLatest, takeEvery } from 'redux-saga/effects';\nimport fetchData from '@/containers/App/sagas/fetchData';\nimport { loadUserInfo } from '@/containers/App/actions';\nimport { ADD_MENU, modalVisibleToggle, LOAD_MENU, loadMenuSuccess, loadMenu, UPDATE_MENU, fieldsChange } from './actions';\nexport function* handleAddMenu(action) {\n  const { params } = action;\n  const formData = new FormData();\n  Object.keys(params).forEach((key) => {\n    // if (params[key] === '') return;\n    formData.append(key, params[key]);\n  })\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/user/addMenu', options });\n  if (result) {\n    yield put(loadMenu({ menu_ids: 'all' }));\n    yield put(modalVisibleToggle(false));\n  }\n}\nexport function* handleLoadMenu(action) {\n  const { params } = action;\n  const formData = new FormData();\n  Object.keys(params).forEach((key) => {\n    if (params[key] === '') return;\n    formData.append(key, params[key]);\n  })\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/user/getMenuList', options });\n  if (result) {\n    yield put(loadMenuSuccess(result));\n  }\n}\nexport function* handleUpdateMenu(action) {\n  const { params } = action;\n  const formData = new FormData();\n  Object.keys(params).forEach((key) => {\n    if (params[key] === '') return;\n    formData.append(key, params[key]);\n  })\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/user/updateMenu', options });\n  if (result) {\n    yield put(modalVisibleToggle(false)); // 清空)\n    yield put(loadMenu({ menu_ids: 'all' }));\n    yield put(loadUserInfo());\n  }\n}\nexport function* watcher() {\n  yield takeLatest(ADD_MENU, handleAddMenu)\n  yield takeLatest(LOAD_MENU, handleLoadMenu)\n  yield takeLatest(UPDATE_MENU, handleUpdateMenu)\n}\n\nexport default [\n  watcher,\n];\n","export const ADD_MENU = '/Menu/Overview/ADD_MENU';\nexport const ADD_MENU_SUCCESS = '/Menu/Overview/ADD_MENU_SUCCESS';\n\nexport const LOAD_MENU = '/Menu/Overview/LOAD_MENU';\nexport const LOAD_MENU_SUCCESS = '/Menu/Overview/LOAD_MENU_SUCCESS';\n\nexport const ADD = '/Menu/Overview/ADD';\n\nexport const FIELDS_CHANGE = '/Menu/Overview/FIELDS_CHANGE';\n\nexport const MODAL_VISIBLE_TOGGLE = '/Menu/Overview/MODAL_VISIBLE_TOGGLE';\n\nexport const UPDATE_MENU = '/Menu/Overview/UPDATE_MENU';\n\nexport function add(params) {\n  return {\n    type: ADD,\n    params,\n  };\n}\n\nexport function addMenu(params) {\n  return {\n    type: ADD_MENU,\n    params,\n  };\n}\n\nexport function addMenuSuccess(data) {\n  return {\n    type: ADD_MENU_SUCCESS,\n    data,\n  };\n}\n\nexport function loadMenu(params) {\n  return {\n    type: LOAD_MENU,\n    params,\n  };\n}\n\nexport function loadMenuSuccess(data) {\n  return {\n    type: LOAD_MENU_SUCCESS,\n    data,\n  };\n}\n\nexport function fieldsChange(fields, editId) {\n  return {\n    type: FIELDS_CHANGE,\n    fields,\n    editId,\n  }\n}\n\nexport function modalVisibleToggle(bool, editId) {\n  return {\n    type: MODAL_VISIBLE_TOGGLE,\n    bool,\n    editId,\n  }\n}\n\nexport function updateMenu(params) {\n  return {\n    type: UPDATE_MENU,\n    params,\n  }\n}\n\n"],"sourceRoot":""}