{"version":3,"sources":["containers/Pages/Home/actions.js","containers/Pages/Home/reselector.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","components/Toys/index.js","containers/Pages/Home/index.js"],"names":["__webpack_require__","r","__webpack_exports__","d","NUM_COUNT","addCount","num","type","selectHi","selectCount","reselect__WEBPACK_IMPORTED_MODULE_0__","selectHiDomain","state","get","createSelector","subState","hi","count","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_useState","useState","_useState2","_Users_yangpu_bt_notes_moonlt_backstage_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","setCount","useEffect","document","title","concat","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","onClick","Home","_this","_Users_yangpu_bt_notes_moonlt_backstage_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_super","call","handleAdd","handleSelectFile","cFile","getElementById","files","sliceFile","file","fileSize","size","index","start","fileArr","end","console","log","currentPice","slice","readFragment","res","push","t","setState","_Users_yangpu_bt_notes_moonlt_backstage_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","blob","cb","fileReader","FileReader","readAsArrayBuffer","onload","result","_this$props","react__WEBPACK_IMPORTED_MODULE_6___default","react_helmet__WEBPACK_IMPORTED_MODULE_12__","_components_Toys__WEBPACK_IMPORTED_MODULE_13__","id","onChange","Component","connect","dispatch","bindActionCreators","actions"],"mappings":"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","file":"static/js/16.f109d3e6.chunk.js","sourcesContent":["export const NUM_COUNT = '/Home/NUM_COUNT';\n\nexport function addCount(num) {\n    return {\n      type: NUM_COUNT,\n      num,\n    };\n  }\n\n","import { createSelector } from 'reselect';\n// state.get 是异步的\nconst selectHiDomain = state => state.get('Hi');\nconst selectHi = createSelector(\n  selectHiDomain,\n  (subState) => subState && subState.hi,\n)\nconst selectCount = createSelector(\n  selectHiDomain,\n  (subState) => subState && subState.count,\n)\n\nexport {\n  selectHi,\n  selectCount,\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import React, { useState, useEffect } from 'react';\n\nexport default (props) => {\n    const [count, setCount] = useState(0);\n    useEffect(() => {\n       document.title = `你爹爹点击了${count}下`;\n       return () => {\n           // alert(2222);\n       }\n    }, [count]);\n    return (\n        <span>\n          {count}\n          <a onClick={() => setCount(count + 1)}>+++++++</a>\n          <a onClick={() => setCount(count)}>----++</a>\n        </span>\n    );\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as actions from './actions';\nimport { createStructuredSelector } from 'reselect';\nimport { selectHi, selectCount } from './reselector';\nimport { Helmet } from \"react-helmet\";\nimport Toy from '@/components/Toys';\n\n\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fileArr: [],\n    }\n  }\n  handleAdd = (num) => {\n    this.props.addCount(num);\n  }\n  handleSelectFile = () => {\n    // console.log(document.getElementById('fileItem').files[0]);\n    const cFile = document.getElementById('fileItem').files[0];\n    this.sliceFile(cFile);\n  }\n  sliceFile = (file) => {\n    const fileSize = file.size;\n    const step = 1024 * 100; // 100Kb;\n    let index = 0;\n    let start = 0;\n    const fileArr = [];\n    while (start < fileSize) {\n      const end = (fileSize - start) > step ? start + step : fileSize;\n      console.log(start + '-----' + end + '-----' + fileSize);\n      const currentPice = file.slice(start, end);\n      this.readFragment(currentPice, (res) => {\n        fileArr.push({ file: res, t: index });\n        this.setState({\n          ...this.state,\n          fileArr,\n        }, () => {\n          console.log(this.state.fileArr);\n        });\n      })\n      index ++;\n      start = end;\n    };\n  }\n  readFragment = (blob, cb) => {\n    const fileReader = new FileReader();\n    fileReader.readAsArrayBuffer(blob);\n    fileReader.onload = () => {\n      const res = fileReader.result;\n      cb(res)\n    };\n  }\n  render() {\n    const { hi, count } = this.props;\n    return (\n      <div>\n        <Helmet>\n          <title>首页</title>\n        </Helmet>\n        这是首页\n        <Toy />\n        <div>\n          <input type=\"file\" id=\"fileItem\" onChange={this.handleSelectFile} />\n        </div>\n      </div>\n    )\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    hi: selectHi(state),\n    count: selectCount(state),\n  };\n}\nconst mapActionsToProps = (dispatch) => bindActionCreators({ ...actions }, dispatch);\n// const mapStateToProps = createStructuredSelector({\n//   hi: selectHi(),\n// })\nexport default connect(mapStateToProps, mapActionsToProps)(Home);\n// export default Hi;"],"sourceRoot":""}