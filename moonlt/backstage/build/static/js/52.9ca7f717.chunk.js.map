{"version":3,"sources":["containers/Pages/Manage/Forum/List/sagas.js","containers/Pages/Manage/Forum/List/actions.js"],"names":["handleLoadForumList","watcher","action","formData","_action$params","cid","fid","name","_action$params$page","page","options","result","_Users_yangpu_bt_notes_moonlt_backstage_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","FormData","params","append","method","body","call","fetchData","url","sent","put","loadForumListSuccess","stop","_marked","_context2","takeLatest","LOAD_FORUMLIST","_marked2","__webpack_exports__","__webpack_require__","r","d","LOAD_FORUMLIST_SUCCESS","ADD","FIELDS_CHANGE","MODAL_VISIBLE_TOGGLE","UPDATE_CATEGORY","add","loadForumList","fieldsChange","modalVisibleToggle","updateCategory","type","data","fields","editCid","bool"],"mappings":"sPAoBiBA,cAkCAC,GAlCV,SAAUD,EAAoBE,GAA9B,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAYU,OAXTd,EAAW,IAAIe,SADhBd,EAEgCF,EAAOiB,OAApCd,EAFHD,EAEGC,IAAKC,EAFRF,EAEQE,IAAKC,EAFbH,EAEaG,KAFbC,EAAAJ,EAEmBK,YAFnB,IAAAD,EAE0B,EAF1BA,EAGLH,GAAOF,EAASiB,OAAO,MAAOf,GAC9BC,GAAOH,EAASiB,OAAO,MAAOd,GAC9BC,GAAQJ,EAASiB,OAAO,OAAQb,GAChCJ,EAASiB,OAAO,OAAQX,GACxBN,EAASiB,OAAO,QAAS,IACnBV,EAAU,CACdW,OAAQ,OACRC,KAAMnB,GAVHY,EAAAE,KAAA,GAYgBM,YAAKC,IAAW,CAAEC,IAAK,oBAAqBf,YAZ5D,aAYCC,EAZDI,EAAAW,MAAA,CAAAX,EAAAE,KAAA,SAcH,OAdGF,EAAAE,KAAA,GAcGU,YAAIC,+BAAqBjB,IAd5B,yBAAAI,EAAAc,SAAAC,GAkCA,SAAU7B,IAAV,OAAAW,EAAAC,EAAAC,KAAA,SAAAiB,GAAA,cAAAA,EAAAf,KAAAe,EAAAd,MAAA,OAEL,OAFKc,EAAAd,KAAA,EAECe,YAAWC,iBAAgBjC,GAF5B,wBAAA+B,EAAAF,SAAAK,GAMQC,EAAA,SACblC,qCC7DFmC,EAAAC,EAAAF,GAAAC,EAAAE,EAAAH,EAAA,mCAAAF,IAAAG,EAAAE,EAAAH,EAAA,2CAAAI,IAAAH,EAAAE,EAAAH,EAAA,wBAAAK,IAAAJ,EAAAE,EAAAH,EAAA,kCAAAM,IAAAL,EAAAE,EAAAH,EAAA,yCAAAO,IAAAN,EAAAE,EAAAH,EAAA,oCAAAQ,IAAAP,EAAAE,EAAAH,EAAA,wBAAAS,IAAAR,EAAAE,EAAAH,EAAA,kCAAAU,IAAAT,EAAAE,EAAAH,EAAA,yCAAAP,IAAAQ,EAAAE,EAAAH,EAAA,iCAAAW,IAAAV,EAAAE,EAAAH,EAAA,uCAAAY,IAAAX,EAAAE,EAAAH,EAAA,mCAAAa,IAAO,IAAMf,EAAiB,oCACjBM,EAAyB,4CAEzBC,EAAM,4BAENC,EAAgB,sCAEhBC,EAAuB,6CAEvBC,EAAkB,wCAExB,SAASC,EAAIzB,GAClB,MAAO,CACL8B,KAAMT,EACNrB,UAIG,SAAS0B,EAAc1B,GAC5B,MAAO,CACL8B,KAAMhB,EACNd,UAIG,SAASS,EAAqBsB,GACnC,MAAO,CACLD,KAAMV,EACNW,QAIG,SAASJ,EAAaK,EAAQC,GACnC,MAAO,CACLH,KAAMR,EACNU,SACAC,WAIG,SAASL,EAAmBM,EAAMD,GACvC,MAAO,CACLH,KAAMP,EACNW,OACAD,WAIG,SAASJ,EAAe7B,GAC7B,MAAO,CACL8B,KAAMN,EACNxB","file":"static/js/52.9ca7f717.chunk.js","sourcesContent":["import { fork, call, put, takeLatest, takeEvery } from 'redux-saga/effects';\nimport fetchData from '@/containers/App/sagas/fetchData';\nimport { LOAD_FORUMLIST, loadForumListSuccess } from './actions';\n// export function* handleAddCategory(action) {\n//   const { params } = action;\n//   const formData = new FormData();\n//   Object.keys(params).forEach((key) => {\n//     if (params[key] === undefined) return;\n//     formData.append(key, params[key]);\n//   })\n//   const options = {\n//     method: 'POST',\n//     body: formData,\n//   }\n//   const result = yield call(fetchData, { url: '/content/addCategory', options });\n//   if (result) {\n//     yield put(loadCategory());\n//     yield put(modalVisibleToggle(false));\n//   }\n// }\nexport function* handleLoadForumList(action) {\n  const formData = new FormData();\n  const { cid, fid, name, page = 1 } = action.params;\n  cid && formData.append('cid', cid);\n  fid && formData.append('fid', fid);\n  name && formData.append('name', name);\n  formData.append('page', page);\n  formData.append('limit', 20);\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/content/getForum', options });\n  if (result) {\n    yield put(loadForumListSuccess(result));\n  }\n}\n// export function* handleUpdateCategory(action) {\n//   const { params } = action;\n//   const formData = new FormData();\n//   Object.keys(params).forEach((key) => {\n//     if (params[key] === '') return;\n//     formData.append(key, params[key]);\n//   })\n//   const options = {\n//     method: 'POST',\n//     body: formData,\n//   }\n//   const result = yield call(fetchData, { url: '/content/updateCategory', options });\n//   if (result) {\n//     yield put(modalVisibleToggle(false)); // 清空)\n//     yield put(loadCategory());\n//   }\n// }\nexport function* watcher() {\n  // yield takeLatest(ADD_CATEGORY, handleAddCategory)\n  yield takeLatest(LOAD_FORUMLIST, handleLoadForumList)\n  // yield takeLatest(UPDATE_CATEGORY, handleUpdateCategory)\n}\n\nexport default [\n  watcher,\n];\n","export const LOAD_FORUMLIST = '/Manage/Forum/List/LOAD_FORUMLIST';\nexport const LOAD_FORUMLIST_SUCCESS = '/Manage/Forum/List/LOAD_FORUMLIST_SUCCESS';\n\nexport const ADD = '/Manage/Category/List/ADD';\n\nexport const FIELDS_CHANGE = '/Manage/Category/List/FIELDS_CHANGE';\n\nexport const MODAL_VISIBLE_TOGGLE = '/Manage/Category/List/MODAL_VISIBLE_TOGGLE';\n\nexport const UPDATE_CATEGORY = '/Manage/Category/List/UPDATE_CATEGORY';\n\nexport function add(params) {\n  return {\n    type: ADD,\n    params,\n  };\n}\n\nexport function loadForumList(params) {\n  return {\n    type: LOAD_FORUMLIST,\n    params\n  };\n}\n\nexport function loadForumListSuccess(data) {\n  return {\n    type: LOAD_FORUMLIST_SUCCESS,\n    data,\n  };\n}\n\nexport function fieldsChange(fields, editCid) {\n  return {\n    type: FIELDS_CHANGE,\n    fields,\n    editCid,\n  }\n}\n\nexport function modalVisibleToggle(bool, editCid) {\n  return {\n    type: MODAL_VISIBLE_TOGGLE,\n    bool,\n    editCid,\n  }\n}\n\nexport function updateCategory(params) {\n  return {\n    type: UPDATE_CATEGORY,\n    params,\n  }\n}\n\n"],"sourceRoot":""}