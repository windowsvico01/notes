{"version":3,"sources":["components/Editor/index.js","containers/Pages/Plugins/Editor/Edit/index.js","containers/Pages/Plugins/Editor/action.js","containers/Pages/Plugins/Editor/reselector.js","components/Style/index.js"],"names":["Editor","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","editorContent","_this2","elem","refs","editorElem","editor","E","customConfig","onchange","html","setState","handleChangeContent","create","setCurrentEditor","react_default","a","createElement","style","marginTop","ref","React","PureComponent","Edit","content","contentChange","objectSpread","txt","Style","page_header","onBack","window","history","back","title","subTitle","href","target","react_router_dom","to","marginLeft","components_Editor","Component","connect","selectContent","dispatch","bindActionCreators","__webpack_require__","r","__webpack_exports__","d","CONTENT_CHANGE","type","reselect__WEBPACK_IMPORTED_MODULE_0__","createSelector","get","subState","Wrapper","styled","div","_templateObject","FloatWrapper","_templateObject2","Title","_templateObject3","FormOperate","_templateObject4"],"mappings":"gPAgCeA,cA5BX,SAAAA,EAAYC,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACdE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,CACTC,cAAe,IAHLR,mFAME,IAAAS,EAAAN,KACVO,EAAOP,KAAKQ,KAAKC,WACjBC,EAAS,IAAIC,IAAEJ,GAErBG,EAAOE,aAAaC,SAAW,SAAAC,GAC3BR,EAAKS,SAAS,CACZV,cAAeS,IAEjBR,EAAKV,MAAMoB,oBAAoBF,IAEnCJ,EAAOO,SACPjB,KAAKJ,MAAMsB,iBAAiBR,oCAG5B,OACIS,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,UAAW,SACvBJ,EAAAC,EAAAC,cAAA,OAAKG,IAAI,uBAvBFC,IAAMC,wBCQrBC,cACJ,SAAAA,EAAY/B,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2B,IACjB9B,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6B,GAAAxB,KAAAH,KAAMJ,KAKRoB,oBAAsB,SAACY,GACrB/B,EAAKD,MAAMiC,cAAcD,IAPR/B,EASnBqB,iBAAmB,SAACR,GAClBb,EAAKkB,SAALjB,OAAAgC,EAAA,EAAAhC,CAAA,GACKD,EAAKO,MADV,CAEEM,aAVFb,EAAKO,MAAQ,CACXM,OAAQ,IAHOb,wEAeV,IACC+B,EAAY5B,KAAKJ,MAAjBgC,QAER,OADIA,GAAW5B,KAAKI,MAAMM,QAAQV,KAAKI,MAAMM,OAAOqB,IAAIjB,KAAKc,GAE3DT,EAAAC,EAAAC,cAACW,EAAA,EAAD,KACEb,EAAAC,EAAAC,cAACY,EAAA,EAAD,CACEC,OAAQ,kBAAMC,OAAOC,QAAQC,QAC7BC,MAAM,uCACNC,SACEpB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAGmB,KAAK,uCAAuCC,OAAO,UAAtD,cACAtB,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAMC,GAAG,0BAA0BrB,MAAO,CAAEsB,WAAY,SAAxD,qBAINzB,EAAAC,EAAAC,cAACwB,EAAD,CACE3B,iBAAkBlB,KAAKkB,iBACvBF,oBAAqBhB,KAAKgB,8BAjCjB8B,aA+CJC,4BARS,SAAC3C,GACvB,MAAO,CACLwB,QAASoB,wBAAc5C,KAKD,SAAC6C,GAAD,OAAcC,6BAAmBpD,OAAAgC,EAAA,EAAAhC,CAAA,GAAK,CAAC+B,gCAAkBoB,IACpEF,CAA4CpB,qCC1D3DwB,EAAAC,EAAAC,GAAAF,EAAAG,EAAAD,EAAA,mCAAAE,IAAAJ,EAAAG,EAAAD,EAAA,kCAAAxB,IAAO,IAAM0B,EAAiB,4BAEvB,SAAS1B,EAAcD,GAC1B,MAAO,CACL4B,KAAMD,EACN3B,8CCLNuB,EAAAC,EAAAC,GAAAF,EAAAG,EAAAD,EAAA,kCAAAL,IAAA,IAAAS,EAAAN,EAAA,IAGMH,EAAgBU,YADK,SAAAtD,GAAK,OAAIA,EAAMuD,IAAI,mBAG5C,SAACC,GAAD,OAAcA,GAAYA,EAAShC,6jCCHrC,IAAMiC,EAAUC,IAAOC,IAAVC,KAMPC,EAAeH,IAAOC,IAAVG,KAaZC,EAAQL,IAAOC,IAAVK,KAmBLC,EAAcP,IAAOC,IAAVO","file":"static/js/7.2355b92e.chunk.js","sourcesContent":["import React from 'react';\nimport E from 'wangeditor';\n\nclass Editor extends React.PureComponent {\n    constructor(props){\n        super(props);\n        this.state = {\n            editorContent: '',\n        };\n    }\n    componentDidMount() {\n        const elem = this.refs.editorElem;\n        const editor = new E(elem);\n        // 使用 onchange 函数监听内容的变化，并实时更新到 state 中\n        editor.customConfig.onchange = html => {\n            this.setState({\n              editorContent: html\n            })\n            this.props.handleChangeContent(html);\n          }\n        editor.create()\n        this.props.setCurrentEditor(editor);\n    }\n    render() {\n        return (\n            <div style={{ marginTop: '15px' }}>\n              <div ref=\"editorElem\"></div>\n            </div>\n        );\n    }\n}\n\nexport default Editor;","import React, { Component } from 'react';\nimport { PageHeader, Divider } from 'antd';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Link } from 'react-router-dom';\nimport { contentChange } from '../action';\nimport { selectContent } from '../reselector';\nimport WangEditor from '@/components/Editor';\nimport { Wrapper } from '@/components/Style';\n\n\nclass Edit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editor: '',\n    } \n  }\n  handleChangeContent = (content) => {\n    this.props.contentChange(content);\n  }\n  setCurrentEditor = (editor) => {\n    this.setState({\n      ...this.state,\n      editor,\n    })\n  }\n  render() {\n    const { content } = this.props;\n    if (content && this.state.editor) this.state.editor.txt.html(content);\n    return (\n      <Wrapper>\n        <PageHeader\n          onBack={() => window.history.back()}\n          title=\"富文本编辑器\"\n          subTitle={(\n            <div>\n              <a href=\"http://www.wangeditor.com/index.html\" target=\"_black\">wangeditor</a>\n              <Link to=\"/plugins/editor/preview\" style={{ marginLeft: '20px' }}> 预览 </Link>\n            </div>\n          )}\n        />\n        <WangEditor\n          setCurrentEditor={this.setCurrentEditor}\n          handleChangeContent={this.handleChangeContent}\n        />\n      </Wrapper>\n    )\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    content: selectContent(state),\n    // hi: selectHi(state),\n    // count: selectCount(state),\n  };\n}\nconst mapActionsToProps = (dispatch) => bindActionCreators({ ...{contentChange} }, dispatch);\nexport default connect(mapStateToProps, mapActionsToProps)(Edit);","export const CONTENT_CHANGE = '/Plugins/Editor/NUM_COUNT';\n\nexport function contentChange(content) {\n    return {\n      type: CONTENT_CHANGE,\n      content,\n    };\n  }\n","import { createSelector } from 'reselect';\n// state.get 是异步的\nconst selectEditorDomain = state => state.get('Plugins/Editor');\nconst selectContent = createSelector(\n    selectEditorDomain,\n  (subState) => subState && subState.content,\n)\n\nexport {\n  selectContent\n}","import styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: auto;\n  padding-right: 24px;\n  margin-bottom: 15px;\n`;\nconst FloatWrapper = styled.div`\n  width: 100%;\n  height: auto;\n  padding-right: 24px;\n  overflow: hidden;\n  margin-bottom: 15px;\n  .f-l {\n    float: left;\n  }\n  .f-r {\n    float: right;\n  }\n`;\nconst Title = styled.div`\n  width: 100%;\n  overflow: hidden;\n  height: 20px;\n  margin-bottom: 15px;\n  .borderLeft {\n    width: 3px;\n    height: 20px;\n    background: #91d5ff;\n    float: left;\n  }\n  h2 {\n    font-size: 18px;\n    float: left;\n    margin: 0 0 0 10px;\n    height: 20px;\n    line-height: 20px;\n  }\n`;\nconst FormOperate = styled.div`\n  overflow: hidden;\n  a {\n    margin-right: 10px;\n  }\n`;\nexport { Wrapper, FloatWrapper, Title, FormOperate }"],"sourceRoot":""}