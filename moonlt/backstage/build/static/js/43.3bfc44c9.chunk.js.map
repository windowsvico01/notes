{"version":3,"sources":["containers/Pages/Permission/Manager/sagas.js","containers/Pages/Permission/Manager/actions.js"],"names":["handleGetUsers","handleLoadMenu","handleUpdateUser","watcher","action","params","formData","options","result","_Users_yangpu_bt_notes_moonlt_backstage_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","FormData","Object","keys","forEach","key","append","method","body","call","fetchData","url","sent","put","getUsersSuccess","stop","_marked","_context2","loadMenuSuccess","_marked2","_context3","getUsers","loadUserInfo","_marked3","_context4","takeLatest","GET_USERS","LOAD_MENU","UPDATE_USER","_marked4","__webpack_exports__","__webpack_require__","r","d","GET_USERS_SUCCESS","LOAD_MENU_SUCCESS","loadMenu","updateUser","type","data"],"mappings":"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","file":"static/js/43.3bfc44c9.chunk.js","sourcesContent":["import { call, put, takeLatest } from 'redux-saga/effects';\nimport fetchData from '@/containers/App/sagas/fetchData';\nimport { GET_USERS, getUsers, getUsersSuccess, LOAD_MENU, loadMenuSuccess, UPDATE_USER } from './actions';\nimport { loadUserInfo } from '@/containers/App/actions';\nexport function* handleGetUsers(action) {\n  const { params } = action;\n  const formData = new FormData();\n  Object.keys(params).forEach((key) => {\n    if (params[key] === '') return;\n    formData.append(key, params[key]);\n  })\n  formData.append('limit', 10);\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/user/getUsers', options });\n  if (result) {\n    yield put(getUsersSuccess(result));\n  }\n}\n\nexport function* handleLoadMenu(action) {\n  const { params } = action;\n  const formData = new FormData();\n  Object.keys(params).forEach((key) => {\n    if (params[key] === '') return;\n    formData.append(key, params[key]);\n  })\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/user/getMenuList', options });\n  if (result) {\n    yield put(loadMenuSuccess(result));\n  }\n}\n\nexport function* handleUpdateUser(action) {\n  const { params } = action;\n  const formData = new FormData();\n  Object.keys(params).forEach((key) => {\n    if (params[key] === '') return;\n    formData.append(key, params[key]);\n  })\n  const options = {\n    method: 'POST',\n    body: formData,\n  }\n  const result = yield call(fetchData, { url: '/user/updateUser', options });\n  if (result) {\n    yield put(getUsers({}));\n    yield put(loadUserInfo());\n  }\n}\n\nexport function* watcher() {\n  yield takeLatest(GET_USERS, handleGetUsers)\n  yield takeLatest(LOAD_MENU, handleLoadMenu)\n  yield takeLatest(UPDATE_USER, handleUpdateUser)\n}\n\nexport default [\n  watcher,\n];\n\n","export const GET_USERS = '/Permission/Manager/GET_USERS';\nexport const GET_USERS_SUCCESS = '/Permission/Manager/GET_USERS_SUCCESS';\n\nexport const LOAD_MENU = '/Permission/Manager/LOAD_MENU';\nexport const LOAD_MENU_SUCCESS = '/Permission/Manager/LOAD_MENU_SUCCESS';\n\nexport const UPDATE_USER = '/Permission/Manager/UPDATE_USER';\n\nexport function getUsers(params) {\n  return {\n    type: GET_USERS,\n    params,\n  };\n  }\n  \nexport function getUsersSuccess(data) {\n  return {\n    type: GET_USERS_SUCCESS,\n    data,\n  };\n}\n\nexport function loadMenu(params) {\n  return {\n    type: LOAD_MENU,\n    params,\n  };\n}\n\nexport function loadMenuSuccess(data) {\n  return {\n    type: LOAD_MENU_SUCCESS,\n    data,\n  };\n}\n\nexport function updateUser(params) {\n  return {\n    type: UPDATE_USER,\n    params,\n  }\n}"],"sourceRoot":""}