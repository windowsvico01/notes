{"version":3,"sources":["modules/index.js"],"names":["RenderModules","props","config","modules","pageData","type","template","lt","renderRow","tHtml","forEach","item","$","html","renderModules","moduleWrapper","_this","length","each","index","templateType","attr","params","category","articleId","init","window","Modules"],"mappings":";;AAAA;;AACA;;;;;;;;;;IACMA,a;AACJ,yBAAYC,KAAZ,EAAmB;AAAA;;AACjB,SAAKC,MAAL,GAAc;AACZC,MAAAA,OAAO,EAAPA,eADY;AAEZC,MAAAA,QAAQ,EAAC,CACP;AAAEC,QAAAA,IAAI,EAAE,KAAR;AAAeC,QAAAA,QAAQ,EAAE,UAAzB;AAAqCH,QAAAA,OAAO,EAAE,CAC5C,CAAC;AAAEE,UAAAA,IAAI,EAAE,KAAR;AAAeC,UAAAA,QAAQ,EAAE;AAAzB,SAAD,CAD4C;AAA9C,OADO,EAIP;AAAED,QAAAA,IAAI,EAAE,KAAR;AAAeC,QAAAA,QAAQ,EAAE,aAAzB;AAAwCH,QAAAA,OAAO,EAAE,CAC/C,CAAC;AAAEE,UAAAA,IAAI,EAAE,KAAR;AAAeC,UAAAA,QAAQ,EAAE;AAAzB,SAAD,EAAsC;AAAED,UAAAA,IAAI,EAAE,KAAR;AAAeC,UAAAA,QAAQ,EAAE;AAAzB,SAAtC,CAD+C,EAE/C,CAAC;AAAED,UAAAA,IAAI,EAAE,KAAR;AAAeC,UAAAA,QAAQ,EAAE;AAAzB,SAAD,CAF+C;AAAjD,OAJO,CAFG;AAWZC,MAAAA,EAAE,EAAE,EAXQ,CAWJ;;AAXI,KAAd;AAaD;;;;2BACMN,K,EAAO;AACZ,WAAKC,MAAL,CAAYE,QAAZ,GAAuBH,KAAK,CAACG,QAA7B;AACA,WAAKF,MAAL,CAAYK,EAAZ,GAAiBN,KAAK,CAACM,EAAvB;AACA,WAAKC,SAAL;AACD;;;gCACW;AACV,UAAIC,KAAK,GAAG,EAAZ;AACA,WAAKP,MAAL,CAAYE,QAAZ,CAAqBM,OAArB,CAA6B,UAACC,IAAD,EAAU;AACrCF,QAAAA,KAAK,IAAI,qBAAIE,IAAJ,CAAT;AACD,OAFD;AAGAC,MAAAA,CAAC,CAAC,MAAD,CAAD,CAAUC,IAAV,CAAeJ,KAAf;AACA,WAAKK,aAAL;AACD;;;oCACe;AACd,UAAMC,aAAa,GAAGH,CAAC,CAAC,iBAAD,CAAvB;;AACA,UAAMI,KAAK,GAAG,IAAd;;AACAD,MAAAA,aAAa,CAACE,MAAd,IAAwBF,aAAa,CAACG,IAAd,CAAmB,UAACC,KAAD,EAAQR,IAAR,EAAiB;AAC1D,YAAMS,YAAY,GAAGR,CAAC,CAACD,IAAD,CAAD,CAAQU,IAAR,CAAa,eAAb,KAAiC,aAAtD;AACA,YAAMf,QAAQ,GAAGU,KAAK,CAACd,MAAN,CAAaC,OAAb,CAAqBiB,YAArB,IAAqC,IAAIJ,KAAK,CAACd,MAAN,CAAaC,OAAb,CAAqBiB,YAArB,CAAJ,CAAuCR,CAAC,CAACD,IAAD,CAAxC,CAArC,GAAuF,IAAIK,KAAK,CAACd,MAAN,CAAaC,OAAb,CAAqB,OAArB,CAAJ,CAAkCS,CAAC,CAACD,IAAD,CAAnC,CAAxG;AACA,YAAMW,MAAM,GAAG;AACbC,UAAAA,QAAQ,EAAEP,KAAK,CAACd,MAAN,CAAaK,EAAb,CAAgBgB,QAAhB,IAA4B,EADzB;AAEbC,UAAAA,SAAS,EAAER,KAAK,CAACd,MAAN,CAAaK,EAAb,CAAgBiB,SAAhB,IAA6B;AAF3B,SAAf;AAIAlB,QAAAA,QAAQ,CAACmB,IAAT,CAAcH,MAAd;AACD,OARuB,CAAxB;AASD;;;;;;AAEHI,MAAM,CAACC,OAAP,GAAiB,IAAI3B,aAAJ,EAAjB","sourcesContent":["import modules from './tpl';\nimport row from './tpl/row.art';\nclass RenderModules {\n  constructor(props) {\n    this.config = {\n      modules,\n      pageData:[\n        { type: 'row', template: 'row-full', modules: [\n          [{ type: 'mod', template: 'Header' }]\n        ] },\n        { type: 'row', template: 'row-600-300', modules: [\n          [{ type: 'mod', template: 'Banner' }, { type: 'mod', template: 'InfoFlow' }], \n          [{ type: 'mod', template: 'TextList' }]\n        ] },\n      ],\n      lt: {}, // location信息\n    }\n  }\n  render(props) {\n    this.config.pageData = props.pageData;\n    this.config.lt = props.lt;\n    this.renderRow();\n  }\n  renderRow() {\n    let tHtml = '';\n    this.config.pageData.forEach((item) => {\n      tHtml += row(item);\n    })\n    $('#app').html(tHtml);\n    this.renderModules();\n  }\n  renderModules() {\n    const moduleWrapper = $('.module-wrapper');\n    const _this = this;\n    moduleWrapper.length && moduleWrapper.each((index, item) => {\n      const templateType = $(item).attr('template-type') || 'no-template';\n      const template = _this.config.modules[templateType] ? new _this.config.modules[templateType]($(item)) : new _this.config.modules['NoTpl']($(item));\n      const params = {\n        category: _this.config.lt.category || '',\n        articleId: _this.config.lt.articleId || '',\n      };\n      template.init(params);\n    });\n  }\n}\nwindow.Modules = new RenderModules();"],"file":"index.js"}