{"version":3,"sources":["modules/tpl/TextList/index.js"],"names":["TextList","dom","config","data","modData","source","getRootCategory","res","console","log","list","forum","tHtml","html","afterInit","cb","pathData","location","pathname","split","category","$","post","key","sort_by","limit","err","code"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;IACMA,Q;AACF,oBAAYC,GAAZ,EAAiB;AAAA;;AACb,SAAKC,MAAL,GAAc;AACVD,MAAAA,GAAG,EAAHA;AADU,KAAd;AAGH;;;;yBACIE,I,EAAM;AAAA;;AACP,UAAIA,IAAI,CAACC,OAAL,CAAaC,MAAb,KAAwB,YAA5B,EAA0C;AACtC,aAAKC,eAAL,CAAqB,UAACC,GAAD,EAAS;AAC1BC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,cAAMG,IAAI,GAAGH,GAAG,CAACI,KAAjB;AACA,cAAMC,KAAK,GAAG,uBAAM;AAACF,YAAAA,IAAI,EAAJA;AAAD,WAAN,CAAd;;AACA,UAAA,KAAI,CAACR,MAAL,CAAYD,GAAZ,CAAgBY,IAAhB,CAAqBD,KAArB;;AACA,UAAA,KAAI,CAACE,SAAL;AACH,SAND;AAOH;AAEJ;;;gCACW;AACRN,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACH;;;oCACeM,E,EAAI;AAChB,UAAMC,QAAQ,GAAGC,QAAQ,CAACC,QAAT,CAAkBC,KAAlB,CAAwB,GAAxB,CAAjB;AAA8C;AAC9C,UAAMC,QAAQ,GAAGJ,QAAQ,CAAC,CAAD,CAAR,IAAe,EAAhC;;AACAK,yBAAEC,IAAF,CAAO,mBAAP,EAA4B;AAAEC,QAAAA,GAAG,EAAEH,QAAP;AAAiBI,QAAAA,OAAO,EAAE,UAA1B;AAAsCC,QAAAA,KAAK,EAAE;AAA7C,OAA5B,EAA8E,UAAClB,GAAD,EAAKmB,GAAL,EAAa;AACvFlB,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,YAAIA,GAAG,IAAIA,GAAG,CAACoB,IAAJ,KAAa,CAAxB,EAA2B;AACvBZ,UAAAA,EAAE,CAACR,GAAG,CAACJ,IAAL,CAAF;AACH,SAFD,MAEOY,EAAE,CAAC,EAAD,CAAF;AACV,OALD;AAMH;;;;;;eAEUf,Q","sourcesContent":["import index from './index.art';\nimport $ from 'jquery';\nimport './index.css';\nclass TextList {\n    constructor(dom) {\n        this.config = {\n            dom,\n        }\n    }\n    init(data) {\n        if (data.modData.source === 'forum_sort') {\n            this.getRootCategory((res) => {\n                console.log(res);\n                const list = res.forum;\n                const tHtml = index({list});\n                this.config.dom.html(tHtml);\n                this.afterInit();\n            })\n        }\n       \n    }\n    afterInit() {\n        console.log('init TextList');\n    }\n    getRootCategory(cb) {\n        const pathData = location.pathname.split('/');;\n        const category = pathData[2] || '';\n        $.post('/content/getForum', { key: category, sort_by: 'hot DESC', limit: 5 }, (res,err) => {\n            console.log(res);\n            if (res && res.code === 0) {\n                cb(res.data);\n            } else cb([]);\n        })\n    }\n}\nexport default TextList;"],"file":"index.js"}