{"version":3,"sources":["js/login.js"],"names":["Login","account","password","$","on","val","alert","passwordSha1","sha1","params","Api","post","res","err","code","location","href","alertMsg","msg","setTimeout","tLogin","init"],"mappings":";;;;;;;;IAAMA,K;AACF,mBAAc;AAAA;;AACZ,SAAKC,OAAL,GAAe,EAAf;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACD;;;;2BACM;AAAA;;AACLC,MAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBC,EAAhB,CAAmB,OAAnB,EAA4B,YAAM;AAChC,QAAA,KAAI,CAACH,OAAL,GAAeE,CAAC,CAAC,UAAD,CAAD,CAAcE,GAAd,EAAf;AACA,QAAA,KAAI,CAACH,QAAL,GAAgBC,CAAC,CAAC,WAAD,CAAD,CAAeE,GAAf,EAAhB;;AACA,YAAI,CAAC,KAAI,CAACJ,OAAN,IAAiB,CAAC,KAAI,CAACC,QAA3B,EAAqC;AACnCI,UAAAA,KAAK,CAAC,OAAD,CAAL;AACA;AACD;;AACD,YAAMC,YAAY,GAAGC,IAAI,CAAC,KAAI,CAACN,QAAN,CAAzB;AAAA,YACMO,MAAM,GAAG;AACLR,UAAAA,OAAO,EAAE,KAAI,CAACA,OADT;AAELC,UAAAA,QAAQ,EAAEK;AAFL,SADf;AAKEG,QAAAA,GAAG,CAACC,IAAJ,CAAS,YAAT,EAAuBF,MAAvB,EAA+B,UAASG,GAAT,EAAcC,GAAd,EAAmB;AAChD,cAAID,GAAG,CAACE,IAAJ,KAAa,CAAjB,EAAoBC,QAAQ,CAACC,IAAT,GAAgB,GAAhB,CAApB,KACK;AACHC,YAAAA,QAAQ,CAACL,GAAG,CAACM,GAAL,EAAU,QAAV,CAAR;AACA,gBAAIN,GAAG,CAACE,IAAJ,KAAa,CAAC,CAAlB,EAAqBK,UAAU,CAAC,YAAM;AACpCJ,cAAAA,QAAQ,CAACC,IAAT,GAAgB,GAAhB;AACD,aAF8B,EAE5B,IAF4B,CAAV;AAGrB;AACD,WAR+C,CAShD;AAED,SAXD;AAYH,OAxBD;AAyBD;;;;;;AAEHb,CAAC,CAAC,YAAU;AACV,MAAMiB,MAAM,GAAG,IAAIpB,KAAJ,EAAf;AACAoB,EAAAA,MAAM,CAACC,IAAP;AACD,CAHA,CAAD","sourcesContent":["class Login {\n    constructor() {\n      this.account = '';\n      this.password = '';\n    }\n    init() {   \n      $('#submitBtn').on('click', () => {\n        this.account = $('#account').val();\n        this.password = $('#password').val();\n        if (!this.account || !this.password) {\n          alert('请填写完整');\n          return;\n        }\n        const passwordSha1 = sha1(this.password),\n              params = {\n                  account: this.account,\n                  password: passwordSha1,\n              };\n          Api.post('/api/login', params, function(res, err) {\n            if (res.code === 0) location.href = '/';\n            else {\n              alertMsg(res.msg, 'danger');\n              if (res.code === -1) setTimeout(() => {\n                location.href = '/';\n              }, 2000)\n              return;\n            }\n            // alert('登录成功！');\n\n          })  \n      })\n    }\n  }\n  $(function(){\n    const tLogin = new Login();\n    tLogin.init();\n  })"],"file":"login.js"}